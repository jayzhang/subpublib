#!/bin/bash
# Java jar application management script configuration file for QXWZ.com
# Author: kewei.li@wz-inc.com
# created at 2017-01-05, last modified 2017-xx-xx

# APPBASE is the home dir for your application, must be set, usually contains a lib dir for jar files.
# Reference: /home/admin/app-run
#APPBASE=/home/admin/app-run

# MAINCLASS is the main function for the main jar, is required for start up.
MAINCLASS=com.qxwz.ip.jt808.JT808ServerMain

# PROCNAME is used for finding out the correct process of the application, is usually the last section of MAINCLASS.
PROCNAME=`echo $MAINCLASS|sed 's/^.*\.//'`

# Uncomment the following line if needed.
#export LD_LIBRARY_PATH=$APPBASE/lib

# Memory config
# XMXRATIO is the heap memory percentage of total memory.
# Default: 50
#XMXRATIO=70

# XMXRATIO is the new generation memory percentage of HEAP SIZE.
# Default: 50
#XMNRATIO=50

# MEMOPT is intended for customized memory size configuration.
# NOTICE: When MEMOPT is set, neither XMXRATIO nor XMNRATIO is allowed to be set.
# NOTICE: If one of Xmx, Xms or Xmn parameters in MEMOPT is omitted, app process may be started with incomplete heap memory parameters.
# NOTICE: -XX:SurvivorRatio is not set by default, set it here with Xmx, Xms and Xmn if needed. If you want to set SurvivorRatio alone without Xmx, Xms or Xmn, add it to OTHEROPT instead.
# By default, MEMOPT is calculated by system memory size and ratio(s) set below.
#MEMOPT="-Xmx1g"

# GCOPT is intended for customized GC configuration.
# NOTICE: Any settings in GCOPT will overwrite ALL default settings for GC paramaters.
# Default: -XX:+DisableExplicitGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection -XX:+UseFastAccessorMethods -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70
#GCOPT="-XX:+DisableExplicitGC -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection -XX:+UseFastAccessorMethods -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSInitiatingOccupancyFraction=70"

# GCLOGNUM is the number of how many gc.log files kept.
# Default: 5
#GCLOGNUM=5

# CLASSPATH config
# CPOPT is intended for customized classpath configuration.
# By default, all jars in $APPBASE/lib dir will be added to java classpath when start up.
#CPOPT="-classpath $APPBASE/lib/plexus-classworlds-2.5.2.jar"

# EXCPOPT is intended for extended classpath configuration, it will be added directly after $CPOPT with a colon between them.
# NOTICE: DO NOT add blank space at the beginning of this value under any circumstance.
# NOTICE: Work dir for this script is $APPBASE, relative path usage in any parameter is supported.
# Default:
#EXCPOPT="conf"

# EXCPDIR is intended for extra directories containing classpath jars, all jars in specific directories will be listed and added to classpath.
# NOTICE: If more than one directory are needed, seperate dir names with blank space.
# NOTICE: Work dir for this script is $APPBASE, relative path usage in any parameter is supported.
# Default:
#EXCPDIR="libjars lib2"

# Other config
# PROJOPT is intended for customized project home configuration.
# Default: -Dproject.home=$APPBASE
#PROJOPT="-Dproject.home=$APPBASE"

# OTHEROPT is intended for any customized parameters.
# DO NOT set any memory, GC or any other parameter which has already mentioned below here, unless you understand what you are doing.
# NOTICE: Work dir for this script is $APPBASE, relative path usage in any parameter is supported.
# Default: 
#OTHEROPT="-XX:SurvivorRatio=2 -XX:HeapDumpPath=./java_pid%p.hprof -Dclassworlds.conf=$APPBASE/conf/server.classworlds -Dcom.qxwz.spacex=$APPBASE"

# JMXPORT is the port used for JMX service listening.
# Default: 10053
#JMXPORT=10053

# HEALTHCHECKER is the path to customized health check script.
# NOTICE: Health check will pass if the customized script returns 0, otherwise it will fail.
# NOTICE: Health check script must has execute permission for the runtime user.
# By default, no health check script will be executed.
#HEALTHCHECKER=$APPBASE/bin/appcheck.sh

# MAXCHECKTIMES is configuration for health check times when start up.
# Default: 5
#MAXCHECKTIMES=5
